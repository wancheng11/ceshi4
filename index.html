<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>首页 - 趣玩星球</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #F7F7F7;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 10px 12px;
            box-sizing: border-box;
        }

        /* 顶部栏样式 */
        .top-bar {
            display: flex;
            align-items: center;
            padding: 10px 0;
            gap: 12px;
            width: 100%;
            box-sizing: border-box;
        }

        /* 搜索框样式 */
        .search-box {
            flex: 1;
            position: relative;
            max-width: calc(100% - 47px);
            box-sizing: border-box;
        }

        .search-input {
            width: 100%;
            padding: 8px 15px 8px 35px;
            border: none;
            border-radius: 20px;
            background: #f0f0f0;
            font-size: 14px;
            box-sizing: border-box;
        }

        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #999;
        }

        /* 头像样式 */
        .avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            overflow: hidden;
            flex-shrink: 0;
        }

        .avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* 功能分类菜单 */
        .category-menu {
            display: flex;
            overflow-x: auto;
            padding: 15px 12px;
            background: #fff;
            border-radius: 12px;
            margin: 12px 3px;
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE and Edge */
            -webkit-overflow-scrolling: touch; /* iOS smooth scrolling */
        }

        /* 隐藏滚动条 */
        .category-menu::-webkit-scrollbar {
            display: none;
        }

        .category-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            flex-shrink: 0;
            width: 80px; /* 固定宽度 */
            margin-right: 8px; /* 项目之间的间距 */
            position: relative; /* 添加相对定位 */
        }

        .category-item:last-child {
            margin-right: 0;
        }

        .category-icon {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 6px;
        }

        .category-icon img {
            width: 32px;
            height: 32px;
            object-fit: contain;
        }

        .category-name {
            font-size: 12px;
            color: #333;
            text-align: center;
            white-space: nowrap;
        }

        .category-item.active .category-name {
            color: #1890ff; /* 选中时的文字颜色 */
        }

        .category-item.active::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-bottom: 6px solid #1890ff; /* 三角形颜色 */
        }

        /* 轮播图容器 */
        .carousel-container {
            position: relative;
            width: calc(100% - 6px);
            margin: 12px auto;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            height: 140px;
        }

        .carousel-wrapper {
            display: flex;
            transition: transform 0.3s ease-in-out;
            height: 100%;
        }

        .carousel-item {
            flex: 0 0 100%;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #fff;
        }

        .carousel-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 12px;
        }

        /* 轮播图指示器 */
        .carousel-indicators {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
        }

        .indicator {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
        }

        .indicator.active {
            background: #fff;
            width: 18px;
            border-radius: 3px;
        }

        /* 轮播图按钮 */
        .carousel-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.3);
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }

        .carousel-button.prev {
            left: 10px;
        }

        .carousel-button.next {
            right: 10px;
        }

        .booking-container {
            background: #fff;
            margin: 12px 3px;
            border-radius: 12px;
            padding: 15px;
            box-sizing: border-box;
            width: calc(100% - 6px);
        }

        .filter-section {
            background: #fff;
            border-radius: 12px;
            padding: 15px;
            margin: 3px 0;
            width: 100%;
            box-sizing: border-box;
        }

        .filter-row {
            display: flex;
            gap: 12px;
            margin-bottom: 12px;
            width: 100%;
            box-sizing: border-box;
        }

        .filter-item {
            flex: 1;
            position: relative;
            width: 100%;
            box-sizing: border-box;
        }

        .filter-item input,
        .filter-item select {
            width: 100%;
            padding: 10px 10px 10px 32px;
            border: 1px solid #eee;
            border-radius: 8px;
            font-size: 14px;
            background: #f8f8f8;
            box-sizing: border-box;
            height: 38px;  /* 统一高度 */
            appearance: none;
            -webkit-appearance: none;
        }

        .filter-item select {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23666' d='M6 8L2 4h8z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 10px center;
            padding-right: 30px;
        }

        .filter-item i {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: #999;
            font-size: 14px;
        }

        .service-categories {
            margin: 3px 0;
            background: #fff;
            border-radius: 12px;
            padding: 0 15px 15px 15px;
        }

        .main-categories {
            display: flex;
            border-bottom: 1px solid #eee;
            margin-bottom: 10px;
            padding-top: 3px;
        }

        .main-category {
            flex: 1;
            text-align: center;
            padding: 8px 0;
            color: #666;
            font-size: 15px;
            position: relative;
            cursor: pointer;
        }

        .main-category.active {
            color: #1890ff;
            font-weight: 500;
        }

        .main-category.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 2px;
            background: #1890ff;
            border-radius: 1px;
        }

        .subcategory-container {
            position: relative;
            overflow: hidden;
            margin-top: 3px;
        }

        .subcategory-scroll {
            display: none;
            overflow-x: auto;
            white-space: nowrap;
            scrollbar-width: none;
            -ms-overflow-style: none;
            -webkit-overflow-scrolling: touch;
            padding: 10px 0;
            gap: 15px;
        }

        .subcategory-scroll::-webkit-scrollbar {
            display: none;
        }

        .subcategory-scroll.active {
            display: flex;
        }

        .subcategory-item {
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            padding: 10px;
            min-width: 60px;
            border-radius: 8px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .subcategory-item.active {
            background: #f0f9ff;
            border: 1px solid #1890ff;
        }

        .subcategory-item.active span {
            color: #1890ff;
        }

        .subcategory-item img {
            width: 24px;
            height: 24px;
            margin-bottom: 8px;
            object-fit: contain;
        }

        .subcategory-item span {
            font-size: 12px;
            color: #666;
            white-space: nowrap;
        }

        /* 费用明细样式 */
        .cost-details {
            background: #fff;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .cost-details h3 {
            margin: 0 0 15px 0;
            font-size: 16px;
            color: #333;
        }

        .cost-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: #666;
            font-size: 14px;
        }

        .cost-item.total {
            border-top: 1px solid #eee;
            padding-top: 10px;
            margin-top: 10px;
            color: #333;
            font-weight: 500;
        }

        .total-price {
            color: #ff4d4f;
            font-size: 16px;
        }

        .cost-details .cost-item span:last-child {
            color: #666;
        }
        
        .cost-details .cost-item.total .total-price {
            color: #ff4d4f;
        }

        #selectedService {
            color: #1890ff !important;
            font-weight: 500;
        }

        .filter-item input[type="date"],
        .filter-item input[type="text"] {
            width: 100%;
            padding: 10px 10px 10px 32px;
            border: 1px solid #eee;
            border-radius: 8px;
            font-size: 14px;
            background: #f8f8f8;
            box-sizing: border-box;
            height: 38px; /* 确保所有输入框高度一致 */
            color: #333;
        }

        /* 修改日期选器的占位符颜色 */
        .filter-item input[type="text"]::placeholder {
            color: #999;
        }

        /* 统一日期选择器的文字大小和颜色 */
        .filter-item input[type="date"]::-webkit-datetime-edit {
            font-size: 14px;
            color: #333;
        }

        /* 隐藏日期选择器的清除按 */
        .filter-item input[type="date"]::-webkit-clear-button {
            display: none;
        }

        /* 自定义日期选择器的日历图标 */
        .filter-item input[type="date"]::-webkit-calendar-picker-indicator {
            opacity: 0;
            cursor: pointer;
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
        }

        .city-list {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: #fff;
            border: 1px solid #eee;
            border-radius: 8px;
            max-height: 200px;
            overflow-y: auto;
            display: none;
            z-index: 1000;
            margin-top: 5px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .city-item {
            padding: 10px 15px;
            cursor: pointer;
            border-bottom: 1px solid #f5f5f5;
        }

        .city-item:hover {
            background: #f5f5f5;
        }

        .city-item:last-child {
            border-bottom: none;
        }

        .filter-item {
            position: relative;
        }

        .filter-item input[type="date"] {
            width: 100%;
            padding: 10px 10px 10px 32px;
            border: 1px solid #eee;
            border-radius: 8px;
            font-size: 14px;
            background: #f8f8f8;
            box-sizing: border-box;
            height: 38px;
            color: #333;
            cursor: pointer;
            -webkit-appearance: none;
            appearance: none;
        }

        .filter-item input[type="date"]::-webkit-calendar-picker-indicator {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            opacity: 1;
            width: 20px;
            height: 20px;
            color: #666;
        }

        .filter-item input[type="date"]::-webkit-inner-spin-button,
        .filter-item input[type="date"]::-webkit-clear-button {
            display: none;
        }

        .filter-item input[type="date"]::-webkit-datetime-edit {
            color: #333;
        }

        .filter-item input[type="date"]::-webkit-datetime-edit-fields-wrapper {
            padding: 0;
        }

        /* 日期选择器容器 */
        .date-picker-container {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);
            z-index: 1001;
            width: 90%;
            max-width: 320px;
            display: none;
        }

        /* 日期选择器头部 */
        .date-picker-header {
            padding: 15px;
            text-align: center;
            border-bottom: 1px solid #eee;
        }

        /* 日期选择器内容 */
        .date-picker-content {
            padding: 15px;
        }

        /* 日期输入框 */
        .date-picker-content input[type="date"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #eee;
            border-radius: 8px;
            font-size: 16px;
        }

        /* 按钮容器 */
        .date-picker-buttons {
            display: flex;
            justify-content: flex-end;
            padding: 15px;
            gap: 10px;
        }

        /* 按钮样式 */
        .date-picker-button {
            padding: 8px 20px;
            border-radius: 4px;
            border: none;
            cursor: pointer;
        }

        .date-picker-cancel {
            background: #f5f5f5;
            color: #666;
        }

        .date-picker-confirm {
            background: #1890ff;
            color: #fff;
        }

        /* 遮罩层 */
        .date-picker-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            display: none;
        }

        /* 修改原有日期输入框样式 */
        .filter-item input[type="text"][readonly] {
            background: #f8f8f8;
            cursor: pointer;
        }

        /* 通用弹窗样式 */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-container {
            background: #fff;
            border-radius: 12px;
            width: 90%;
            max-width: 320px;
            position: relative;
            animation: modalShow 0.3s ease;
            margin: auto;
        }

        @keyframes modalShow {
            from {
                transform: translateY(20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        /* 日期选择器样式 */
        .date-picker-container {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #fff;
            border-radius: 12px;
            width: 90%;
            max-width: 320px;
            z-index: 1001;
            display: none;
        }

        /* 城市列表样式 */
        .city-list {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #fff;
            border-radius: 12px;
            width: 90%;
            max-width: 320px;
            max-height: 70vh;
            overflow-y: auto;
            display: none;
            z-index: 1001;
        }

        .city-item {
            padding: 15px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
        }

        .city-item:last-child {
            border-bottom: none;
        }

        .city-item:hover {
            background: #f5f5f5;
        }

        /* 弹窗头部样式 */
        .modal-header {
            padding: 15px;
            border-bottom: 1px solid #eee;
            text-align: center;
            position: relative;
        }

        .modal-header h3 {
            margin: 0;
            font-size: 16px;
            color: #333;
        }

        .modal-close {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            color: #999;
        }

        /* 弹窗内容样式 */
        .modal-content {
            padding: 15px;
            max-height: 60vh;
            overflow-y: auto;
        }

        /* 弹窗按钮样式 */
        .modal-buttons {
            padding: 15px;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            border-top: 1px solid #eee;
        }

        .modal-button {
            padding: 8px 20px;
            border-radius: 4px;
            border: none;
            cursor: pointer;
            font-size: 14px;
        }

        .modal-button.cancel {
            background: #f5f5f5;
            color: #666;
        }

        .modal-button.confirm {
            background: #1890ff;
            color: #fff;
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .modal-container {
            background: #fff;
            border-radius: 12px;
            width: 90%;
            max-width: 320px;
            animation: modalShow 0.3s ease;
            margin: auto;
        }

        .modal-header {
            padding: 15px;
            border-bottom: 1px solid #eee;
            text-align: center;
            position: relative;
        }

        .modal-header h3 {
            margin: 0;
            font-size: 16px;
            color: #333;
        }

        .modal-close {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            color: #999;
            font-size: 20px;
        }

        .modal-content {
            max-height: 60vh;
            overflow-y: auto;
        }

        .city-list {
            padding: 10px 0;
        }

        .city-item {
            padding: 12px 20px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .city-item:hover {
            background: #f5f5f5;
        }

        @keyframes modalShow {
            from {
                transform: translateY(20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-content .city-list {
            display: block;
            position: static;
            max-height: 60vh;
            overflow-y: auto;
            border: none;
            box-shadow: none;
            margin: 0;
            padding: 0;
        }

        .modal-content .city-item {
            padding: 15px 20px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .modal-content .city-item:last-child {
            border-bottom: none;
        }

        .modal-content .city-item:hover {
            background: #f5f5f5;
        }

        .city-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            padding: 15px;
        }

        .city-item {
            text-align: center;
            padding: 12px;
            background: #f8f8f8;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .city-item:hover {
            background: #e8f4ff;
            color: #1890ff;
        }

        .modal-content {
            max-height: 70vh;
            overflow-y: auto;
        }

        /* 修改温馨提示的样式 */
        .tips-container {
            margin: 3px 0;
            padding: 12px 0;
            background: #fff;
            display: none;
        }

        .tips-container.show {
            display: block;
        }

        .tips-content {
            display: flex;
            align-items: flex-start;
            overflow: hidden;
            padding: 0 0 0 5px;
        }

        .tips-scroll {
            flex: 1;
            height: 20px;
            position: relative;
            overflow: hidden;
            padding-left: 0;
        }

        .tips-item {
            position: absolute;
            width: 100%;
            font-size: 13px;
            color: #ff4d4f;
            opacity: 0;
            transform: translateY(100%);
            transition: all 0.5s ease;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            padding-left: 0;
        }

        .tips-item.active {
            opacity: 1;
            transform: translateY(0);
        }

        .customer-service {
            color: #1890ff;
            text-decoration: underline;
            cursor: pointer;
        }

        .customer-service:hover {
            opacity: 0.8;
        }

        .duration-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            padding: 15px;
        }

        .duration-item {
            text-align: center;
            padding: 12px;
            background: #f8f8f8;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .duration-item:hover {
            background: #e8f4ff;
            color: #1890ff;
        }

        .duration-item.selected {
            background: #e8f4ff;
            color: #1890ff;
            border: 1px solid #1890ff;
        }

        .book-now-btn {
            width: 100%;
            height: 44px;
            background: linear-gradient(to right, #FA9E3B, #ED4014);
            border: none;
            border-radius: 8px;
            color: #fff;
            font-size: 16px;
            font-weight: 500;
            margin-top: 20px;
            cursor: pointer;
            transition: opacity 0.3s;
        }

        .book-now-btn:active {
            opacity: 0.8;
        }

        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #fff;
            display: flex;
            justify-content: space-around;
            padding: 8px 0;
            border-top: 1px solid #eee;
            z-index: 1000;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #666;
            text-decoration: none;
            font-size: 12px;
            padding: 4px 0;
        }

        .nav-item i {
            font-size: 20px;
            margin-bottom: 4px;
        }

        .nav-item.active {
            color: #1890ff;
        }

        /* 为了防止底部内容被导航栏遮挡，给container添加底部padding */
        .container {
            padding-bottom: 60px;
        }

        /* 添加头像相关样式 */
        .avatar-link {
            display: block;
            text-decoration: none;
        }

        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 顶部栏 -->
        <div class="top-bar">
            <div class="avatar">
                <img src="https://s1.imagehub.cc/images/2024/11/08/517863d36cc7513386d28d457636008d.jpeg" alt="用户头像">
            </div>
            <div class="search-box">
                <i class="fas fa-search search-icon"></i>
                <input type="text" class="search-input" placeholder="搜索">
            </div>
        </div>

        <!-- 轮播图 -->
        <div class="carousel-container">
            <div class="carousel-wrapper">
                <div class="carousel-item">
                    <img src="https://s1.imagehub.cc/images/2024/11/26/18f56fd9b236f9634b41972a75d6a5b8.png" alt="轮播图1">
                </div>
                <div class="carousel-item">
                    <img src="https://s1.imagehub.cc/images/2024/11/25/95965c9890c56b592588be5618774a7d.png" alt="轮播图2">
                </div>
                <div class="carousel-item">
                    <img src="https://s1.imagehub.cc/images/2024/11/23/965f92c6765b45946133748f1ec547ab.png" alt="轮播图3">
                </div>
                <div class="carousel-item">
                    <img src="https://s1.imagehub.cc/images/2024/11/23/f14261903a34b0932998b015a7b5003e.png" alt="轮播图4">
                </div>
                <div class="carousel-item">
                    <img src="https://s1.imagehub.cc/images/2024/11/09/e22ceeb64f31c651a465909099e54251.png" alt="轮播图5">
                </div>
            </div>
            
            <div class="carousel-indicators">
                <span class="indicator active"></span>
                <span class="indicator"></span>
                <span class="indicator"></span>
                <span class="indicator"></span>
                <span class="indicator"></span>
            </div>

            <button class="carousel-button prev">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button class="carousel-button next">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>

        <!-- 功能分类菜单 -->
        <div class="category-menu">
            <a href="#" class="category-item active">
                <div class="category-icon">
                    <img src="https://s1.imagehub.cc/images/2024/11/29/6a808206747b2b7b134d3429bba6e42c.png" alt="城市陪玩">
                </div>
                <span class="category-name">城市陪玩</span>
            </a>
            <a href="#" class="category-item">
                <div class="category-icon">
                    <img src="https://s1.imagehub.cc/images/2024/11/29/47371a60938978dfbacc7c699881bc2c.png" alt="城市搭子">
                </div>
                <span class="category-name">城市搭子</span>
            </a>
            <a href="#" class="category-item">
                <div class="category-icon">
                    <img src="https://s1.imagehub.cc/images/2024/11/29/9083cebf26900a7cc185aa239e73cc7f.png" alt="游戏陪玩">
                </div>
                <span class="category-name">游戏陪玩</span>
            </a>
            <a href="#" class="category-item">
                <div class="category-icon">
                    <img src="https://s1.imagehub.cc/images/2024/11/29/5b06c21b8c4fc3f2d7fa028cc2963309.png" alt="景点门票">
                </div>
                <span class="category-name">景点门票</span>
            </a>
            <a href="#" class="category-item">
                <div class="category-icon">
                    <img src="https://s1.imagehub.cc/images/2024/11/29/c77e57ef76fb01655bcbbf83b9beb136.png" alt="本地玩乐">
                </div>
                <span class="category-name">本地玩乐</span>
            </a>
            <a href="#" class="category-item">
                <div class="category-icon">
                    <img src="https://s1.imagehub.cc/images/2024/11/29/6a330aff5cb5678e8a508f6088719f12.png" alt="最新活动">
                </div>
                <span class="category-name">最新活动</span>
            </a>
            <a href="#" class="category-item">
                <div class="category-icon">
                    <img src="https://s1.imagehub.cc/images/2024/11/29/dde9a28bcff2c8a8c7c56f48e01bae2c.png" alt="官方公告">
                </div>
                <span class="category-name">官方公告</span>
            </a>
            <a href="#" class="category-item">
                <div class="category-icon">
                    <img src="https://s1.imagehub.cc/images/2024/11/29/099f87fd29a54ba7b6587eed9017be59.png" alt="更多功能">
                </div>
                <span class="category-name">更多功能</span>
            </a>
        </div>

        <!-- 在分类菜单后添加城市陪玩预订容器 -->
        <div class="booking-container">
            <!-- 服务分类 -->
            <div class="service-categories">
                <!-- 主分类菜单 -->
                <div class="main-categories">
                    <div class="main-category active" onclick="switchCategory('entertainment')">
                        <span>娱乐陪玩</span>
                    </div>
                    <div class="main-category" onclick="switchCategory('travel')">
                        <span>旅游陪玩</span>
                    </div>
                </div>

                <!-- 在主分类菜单和子分类菜单之间添加提示框 -->
                <div class="tips-container" id="barTips">
                    <div class="tips-content">
                        <div class="tips-scroll">
                            <span class="tips-item">为了保障您的资金安全，请您切勿私自下单！</span>
                            <span class="tips-item">陪玩价格仅含服务费，未含住宿或交通费用！</span>
                            <span class="tips-item">文明绿色陪玩娱乐，享受健康快乐的生活~</span>
                            <span class="tips-item">服务过程中有问题？点击联系<a href="customer-service.html" class="customer-service">平台客服</a></span>
                            <span class="tips-item">所有陪玩仅提供公众娱乐场所的服务~</span>
                            <span class="tips-item">下单前请您务必仔细阅读下单须知哦~</span>
                        </div>
                    </div>
                </div>

                <!-- 子分类菜单容器 -->
                <div class="subcategory-container">
                    <!-- 娱乐陪玩子菜单 -->
                    <div class="subcategory-scroll active" id="entertainment-menu">
                        <div class="subcategory-item active">
                            <img src="https://s1.imagehub.cc/images/2024/11/29/8dc511dbddb8e4e64c83ad376fac61d5.png" alt="酒吧狂欢">
                            <span>酒吧狂欢</span>
                        </div>
                        <div class="subcategory-item">
                            <img src="https://s1.imagehub.cc/images/2024/11/29/89292438e1737784d60af30d94b9f8f6.png" alt="欢唱派对">
                            <span>欢唱派对</span>
                        </div>
                        <div class="subcategory-item">
                            <img src="https://s1.imagehub.cc/images/2024/11/29/75d85797ac1aa32879fc40973df82823.png" alt="商务应酬">
                            <span>商务应酬</span>
                        </div>
                        <div class="subcategory-item">
                            <img src="https://s1.imagehub.cc/images/2024/11/29/2a381705b45003547f699821204588f4.png" alt="桌球助教">
                            <span>桌球助教</span>
                        </div>
                        <div class="subcategory-item">
                            <img src="https://s1.imagehub.cc/images/2024/11/29/178faa1d061b8e913176512ed4c52366.png" alt="逛街电影">
                            <span>逛街电影</span>
                        </div>
                        <div class="subcategory-item">
                            <img src="https://s1.imagehub.cc/images/2024/11/29/2485149c2f73a9da91a4299be5b2e862.png" alt="密室逃脱">
                            <span>密室逃脱</span>
                        </div>
                        <div class="subcategory-item">
                            <img src="https://s1.imagehub.cc/images/2024/11/29/29f7b0b50c53d3d01a604b0882a1f62b.png" alt="剧本杀">
                            <span>剧本杀</span>
                        </div>
                    </div>

                    <!-- 旅游陪玩菜单 -->
                    <div class="subcategory-scroll" id="travel-menu">
                        <div class="subcategory-item active">
                            <img src="https://s1.imagehub.cc/images/2024/11/29/8e1e27ba47a7457347438e314f780191.png" alt="同游" style="width: 24px; height: 24px;">
                            <span>同城游</span>
                        </div>
                        <div class="subcategory-item">
                            <img src="https://s1.imagehub.cc/images/2024/11/29/53bc012a73e34acd49ea3cd207fae91c.png" alt="跨市游" style="width: 24px; height: 24px;">
                            <span>跨市游</span>
                        </div>
                        <div class="subcategory-item">
                            <img src="https://s1.imagehub.cc/images/2024/11/29/dbb157620c354e2eee7b1c173e76fa6c.png" alt="跨省游" style="width: 24px; height: 24px;">
                            <span>跨省游</span>
                        </div>
                        <div class="subcategory-item">
                            <img src="https://s1.imagehub.cc/images/2024/11/29/552c34f9f9321f8a6c912179767d825f.png" alt="国际游" style="width: 24px; height: 24px;">
                            <span>国际游</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 筛选表单 -->
            <div class="filter-section">
                <div class="filter-row">
                    <div class="filter-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <input type="text" id="destinationInput" placeholder="选择目的地" onclick="showCityList()">
                    </div>
                    <div class="filter-item">
                        <i class="fas fa-calendar"></i>
                        <input type="date" id="travelDate" placeholder="出行日期" min="">
                    </div>
                </div>
                <div class="filter-row">
                    <div class="filter-item">
                        <i class="fas fa-clock"></i>
                        <input type="time" id="travelTime">
                    </div>
                    <div class="filter-item">
                        <i class="fas fa-user"></i>
                        <input type="text" placeholder="预订人姓名">
                    </div>
                </div>
                <div class="filter-row">
                    <div class="filter-item">
                        <i class="fas fa-phone"></i>
                        <input type="tel" placeholder="预定手机号">
                    </div>
                    <div class="filter-item">
                        <i class="fas fa-id-card"></i>
                        <input type="text" id="idNumber" placeholder="身份证号码">
                    </div>
                </div>
                <div class="filter-row">
                    <div class="filter-item">
                        <i class="fas fa-building"></i>
                        <input type="text" id="venueName" placeholder="服务场所名称">
                    </div>
                    <div class="filter-item">
                        <i class="fas fa-hourglass-half"></i>
                        <input type="text" placeholder="选择服务时长" readonly onclick="showDurationModal()">
                    </div>
                </div>
            </div>

            <!-- 费用明细 -->
            <div class="cost-details">
                <h3>费用明细</h3>
                <div class="cost-item">
                    <span>陪玩项目</span>
                    <span id="selectedService">酒吧狂欢</span>
                </div>
                <div class="cost-item">
                    <span>服务时长</span>
                    <span id="serviceDuration">未选择</span>
                </div>
                <div class="cost-item">
                    <span>项目费用</span>
                    <span id="servicePrice">￥298/小时</span>
                </div>
                <div class="cost-item" id="transportFee">
                    <span>交通费</span>
                    <span>￥30</span>
                </div>
                <div class="cost-item total">
                    <span>预计总价</span>
                    <span class="total-price" id="totalPrice">￥328</span>
                </div>
                <button class="book-now-btn" onclick="goToSelectPlayer()">立即预约</button>
            </div>
        </div>
    </div>

    <!-- 添加日期选择弹窗 -->
    <div class="modal-overlay" id="datePickerOverlay">
        <div class="modal-container">
            <div class="modal-header">
                <h3>选择日期</h3>
                <span class="modal-close" onclick="closeDatePicker()">×</span>
            </div>
            <div class="modal-content">
                <input type="date" id="datePickerInput" style="width: 100%; padding: 10px;">
            </div>
            <div class="modal-buttons">
                <button class="modal-button cancel" onclick="closeDatePicker()">取消</button>
                <button class="modal-button confirm" onclick="confirmDate()">确定</button>
            </div>
        </div>
    </div>

    <!-- 修改目的地选择的弹窗部分 -->
    <div class="modal-overlay" id="cityListOverlay">
        <div class="modal-container">
            <div class="modal-header">
                <h3>选择目的地</h3>
                <span class="modal-close" onclick="closeCityList()">×</span>
            </div>
            <div class="modal-content">
                <div class="city-grid" id="cityGrid">
                    <!-- 认显示国内城市 -->
                    <div class="city-item" onclick="selectCity('北京')">北京</div>
                    <div class="city-item" onclick="selectCity('上海')">上海</div>
                    <div class="city-item" onclick="selectCity('广州')">广州</div>
                    <div class="city-item" onclick="selectCity('深圳')">深圳</div>
                    <div class="city-item" onclick="selectCity('珠海')">珠海</div>
                    <div class="city-item" onclick="selectCity('武汉')">武汉</div>
                    <div class="city-item" onclick="selectCity('天津')">天津</div>
                    <div class="city-item" onclick="selectCity('成都')">成都</div>
                    <div class="city-item" onclick="selectCity('长沙')">长沙</div>
                    <div class="city-item" onclick="selectCity('西安')">西安</div>
                    <div class="city-item" onclick="selectCity('海口')">海口</div>
                    <div class="city-item" onclick="selectCity('三亚')">三亚</div>
                    <div class="city-item" onclick="selectCity('杭州')">杭州</div>
                    <div class="city-item" onclick="selectCity('昆明')">昆明</div>
                    <div class="city-item" onclick="selectCity('北海')">北海</div>
                    <div class="city-item" onclick="selectCity('新疆')">新疆</div>
                    <div class="city-item" onclick="selectCity('哈尔滨')">哈尔滨</div>
                    <div class="city-item" onclick="selectCity('内蒙古')">内蒙古</div>
                </div>
            </div>
        </div>
    </div>

    <!-- 添加服务时长选择弹窗 -->
    <div class="modal-overlay" id="durationModal">
        <div class="modal-container">
            <div class="modal-header">
                <h3>选择服务时长</h3>
                <span class="modal-close" onclick="closeDurationModal()">×</span>
            </div>
            <div class="modal-content">
                <div class="duration-grid">
                    <div class="duration-item" onclick="selectDuration(1)">1小时</div>
                    <div class="duration-item" onclick="selectDuration(2)">2小时</div>
                    <div class="duration-item" onclick="selectDuration(3)">3小时</div>
                    <div class="duration-item" onclick="selectDuration(4)">4小时</div>
                    <div class="duration-item" onclick="selectDuration(5)">5小时</div>
                    <div class="duration-item" onclick="selectDuration(6)">6小时</div>
                    <div class="duration-item" onclick="selectDuration(7)">7小时</div>
                    <div class="duration-item" onclick="selectDuration(8)">8小时</div>
                    <div class="duration-item" onclick="selectDuration(9)">9小时</div>
                    <div class="duration-item" onclick="selectDuration(10)">10小时</div>
                    <div class="duration-item" onclick="selectDuration(11)">11小时</div>
                    <div class="duration-item" onclick="selectDuration(12)">12小时</div>
                    <div class="duration-item" onclick="selectDuration(13)">13小时</div>
                    <div class="duration-item" onclick="selectDuration(14)">14小时</div>
                    <div class="duration-item" onclick="selectDuration(15)">15小时</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const wrapper = document.querySelector('.carousel-wrapper');
        const items = document.querySelectorAll('.carousel-item');
        const indicators = document.querySelectorAll('.indicator');
        const prevBtn = document.querySelector('.carousel-button.prev');
        const nextBtn = document.querySelector('.carousel-button.next');
        
        let currentIndex = 0;
        const totalItems = items.length;

        // 自动轮播
        let autoPlayInterval = setInterval(nextSlide, 3000);

        // 更��轮播图位置
        function updateCarousel() {
            wrapper.style.transform = `translateX(-${currentIndex * 100}%)`;
            
            // 更新指示器
            indicators.forEach((indicator, index) => {
                indicator.classList.toggle('active', index === currentIndex);
            });
        }

        // 下张
        function nextSlide() {
            currentIndex = (currentIndex + 1) % totalItems;
            updateCarousel();
        }

        // 上一张
        function prevSlide() {
            currentIndex = (currentIndex - 1 + totalItems) % totalItems;
            updateCarousel();
        }

        // 点击指示器切换
        indicators.forEach((indicator, index) => {
            indicator.addEventListener('click', () => {
                currentIndex = index;
                updateCarousel();
                resetAutoPlay();
            });
        });

        // 点击按钮切换
        prevBtn.addEventListener('click', () => {
            prevSlide();
            resetAutoPlay();
        });

        nextBtn.addEventListener('click', () => {
            nextSlide();
            resetAutoPlay();
        });

        // 重置自动播放
        function resetAutoPlay() {
            clearInterval(autoPlayInterval);
            autoPlayInterval = setInterval(nextSlide, 3000);
        }

        // 触摸事件处理
        let touchStartX = 0;
        let touchEndX = 0;

        wrapper.addEventListener('touchstart', e => {
            touchStartX = e.touches[0].clientX;
            clearInterval(autoPlayInterval);
        });

        wrapper.addEventListener('touchend', e => {
            touchEndX = e.changedTouches[0].clientX;
            const difference = touchStartX - touchEndX;
            
            if (Math.abs(difference) > 50) { // 最小滑动距离
                if (difference > 0) {
                    nextSlide();
                } else {
                    prevSlide();
                }
            }
            
            resetAutoPlay();
        });

        // 添加点击切换效果
        document.querySelectorAll('.category-item').forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                // 移除其他项的active类
                document.querySelectorAll('.category-item').forEach(i => {
                    i.classList.remove('active');
                });
                // 为当前点击项添加active类
                this.classList.add('active');
            });
        });

        // 目的搜索和筛选功能
        function filterCities() {
            const input = document.getElementById('destinationInput');
            const filter = input.value.toLowerCase();
            const cityList = document.getElementById('cityList');
            const cities = cityList.getElementsByClassName('city-item');

            cityList.style.display = 'block';

            for (let city of cities) {
                const text = city.textContent || city.innerText;
                if (text.toLowerCase().indexOf(filter) > -1) {
                    city.style.display = '';
                } else {
                    city.style.display = 'none';
                }
            }
        }

        function selectCity(city) {
            document.getElementById('destinationInput').value = city;
            document.getElementById('cityListOverlay').style.display = 'none';
        }

        // 点击外部关闭城市列表
        document.addEventListener('click', function(e) {
            const cityList = document.getElementById('cityList');
            const destinationInput = document.getElementById('destinationInput');
            
            if (e.target !== destinationInput) {
                cityList.style.display = 'none';
            }
        });

        // 示城市列表
        document.getElementById('destinationInput').addEventListener('focus', function() {
            document.getElementById('cityListOverlay').style.display = 'block';
        });

        function switchCategory(category) {
            // 切换主分类激活状态
            document.querySelectorAll('.main-category').forEach(item => {
                item.classList.remove('active');
            });
            event.currentTarget.classList.add('active');

            // 切换子菜单显示
            document.querySelectorAll('.subcategory-scroll').forEach(menu => {
                menu.classList.remove('active');
            });
            document.getElementById(`${category}-menu`).classList.add('active');

            // 更新价格明细
            const selectedService = document.querySelector('.subcategory-item.active span').textContent;
            updatePriceDetails(selectedService);
        }

        // 定义服务价格配置
        const servicePrices = {
            '酒吧狂欢': 298,
            '欢唱派对': 268,
            '商务应酬': 268,
            '桌球助教': 128,
            '逛街电影': 128,
            '密室逃脱': 98,
            '剧本杀': 98
        };

        // 更新格细的函数
        function updatePriceDetails(serviceName) {
            const basePrice = servicePrices[serviceName] || 0;
            const transportFee = 30;
            const transportFeeElement = document.getElementById('transportFee');
            const duration = parseInt(document.querySelector('input[placeholder="选择服务时长"]').value) || 0;
            
            // 更新显示
            document.getElementById('selectedService').textContent = serviceName;
            document.getElementById('servicePrice').textContent = `￥${basePrice}/小时`;
            document.getElementById('serviceDuration').textContent = duration ? `${duration}小时` : '未选择';

            // 根据当前选中的主分类决定是否显示交通费
            const isEntertainment = document.querySelector('.main-category.active').textContent.trim() === '娱乐陪玩';
            transportFeeElement.style.display = isEntertainment ? 'flex' : 'none';
            
            // 计算总价
            const totalPrice = (basePrice * duration) + (isEntertainment ? transportFee : 0);
            document.getElementById('totalPrice').textContent = `￥${totalPrice}`;
        }

        // 添加服务时长变化时的价格更新函数
        function updateTotalPrice() {
            const serviceName = document.getElementById('selectedService').textContent;
            updatePriceDetails(serviceName);
        }

        // 修改子菜单点击事件处理
        document.querySelectorAll('.subcategory-item').forEach(item => {
            item.addEventListener('click', function() {
                const parentMenu = this.closest('.subcategory-scroll');
                parentMenu.querySelectorAll('.subcategory-item').forEach(subItem => {
                    subItem.classList.remove('active');
                });
                this.classList.add('active');
                
                const serviceName = this.querySelector('span').textContent;
                updatePriceDetails(serviceName);

                // 显示温馨提示（无论是娱乐陪玩还是旅游陪玩都显示）
                document.getElementById('barTips').classList.add('show');
                startTipsRotation();
            });
        });

        // 页面加载时初始化
        window.addEventListener('load', () => {
            document.getElementById('barTips').classList.add('show');
            startTipsRotation();
        });

        // 城市选择功能
        function showCityList() {
            document.getElementById('cityListOverlay').style.display = 'flex';  // 使用flex布局
        }

        // 关闭城市列表
        function closeCityList() {
            document.getElementById('cityListOverlay').style.display = 'none';
        }

        // 点击遮罩层关闭弹窗
        document.getElementById('cityListOverlay').addEventListener('click', function(e) {
            if (e.target === this) {
                closeCityList();
            }
        });

        // 格式化日期显示
        function formatDate(dateStr) {
            if (!dateStr) return '';
            const date = new Date(dateStr);
            const year = date.getFullYear();
            const month = (date.getMonth() + 1).toString().padStart(2, '0');
            const day = date.getDate().toString().padStart(2, '0');
            return `${year}-${month}-${day}`;
        }

        // 设置日期选择器的最小日期为今天
        window.addEventListener('load', function() {
            const today = new Date();
            const dd = String(today.getDate()).padStart(2, '0');
            const mm = String(today.getMonth() + 1).padStart(2, '0');
            const yyyy = today.getFullYear();
            const todayStr = yyyy + '-' + mm + '-' + dd;
            
            const dateInput = document.getElementById('travelDate');
            dateInput.min = todayStr;
            
            // 监听日期变化
            dateInput.addEventListener('change', function() {
                if (this.value) {
                    const selectedDate = new Date(this.value);
                    const formattedDate = selectedDate.toISOString().split('T')[0];
                    this.value = formattedDate;
                }
            });
        });

        // 显示日期选择器
        function showDatePicker() {
            document.getElementById('datePickerOverlay').style.display = 'flex';
        }

        // 关闭日期选择器
        function closeDatePicker() {
            document.getElementById('datePickerOverlay').style.display = 'none';
        }

        // 确认日期选择
        function confirmDate() {
            const selectedDate = document.getElementById('datePickerInput').value;
            if (selectedDate) {
                document.getElementById('travelDate').value = selectedDate;
            }
            closeDatePicker();
        }

        // 点击遮罩层关闭日期择器
        document.getElementById('datePickerOverlay').addEventListener('click', closeDatePicker);

        // 定义城市列表
        const cityLists = {
            domestic: [
                '北京', '上海', '广州', '深圳', '珠海', '武', '天津', '成都', 
                '长沙', '西安', '海口', '三亚', '杭州', '昆明', '北海', '新疆', 
                '哈尔滨', '内蒙古'
            ],
            international: [
                '美国', '英国', '法国', '日本', '泰国', '越南', '土耳其', '俄罗斯',
                '新西兰', '新加坡', '马来西亚', '塞尔维亚'
            ]
        };

        let tipsInterval; // 定义全局变量存储定时器

        // 温馨提示轮播功能
        function startTipsRotation() {
            const tipsItems = document.querySelectorAll('.tips-item');
            let currentIndex = 0;

            // 先清除所有active类
            tipsItems.forEach(item => item.classList.remove('active'));
            
            // 初始化第一条提示
            tipsItems[0].classList.add('active');

            // 清除之前的定时器
            if (tipsInterval) {
                clearInterval(tipsInterval);
            }

            // 设置新的定时器
            tipsInterval = setInterval(() => {
                // 移除当前提示的active类
                tipsItems[currentIndex].classList.remove('active');
                
                // 更新索引
                currentIndex = (currentIndex + 1) % tipsItems.length;
                
                // 添加新提示的active类
                tipsItems[currentIndex].classList.add('active');
            }, 3000); // 每3秒切换一次
        }

        // 页面加载时启动轮播
        window.addEventListener('load', () => {
            if (document.getElementById('barTips').classList.contains('show')) {
                startTipsRotation();
            }
        });

        // 服务时长选择相关函数
        function showDurationModal() {
            document.getElementById('durationModal').style.display = 'flex';
        }

        function closeDurationModal() {
            document.getElementById('durationModal').style.display = 'none';
        }

        function selectDuration(hours) {
            // 更新输入框显示
            document.querySelector('input[placeholder="选择服务时长"]').value = hours + '小时';
            // 更新服务时长显示
            document.getElementById('serviceDuration').textContent = hours + '小时';
            // 更新价格
            const serviceName = document.getElementById('selectedService').textContent;
            const basePrice = servicePrices[serviceName] || 0;
            const transportFee = 30;
            const isEntertainment = document.querySelector('.main-category.active').textContent.trim() === '娱乐陪玩';
            const totalPrice = (basePrice * hours) + (isEntertainment ? transportFee : 0);
            document.getElementById('totalPrice').textContent = `￥${totalPrice}`;
            // 关闭弹窗
            closeDurationModal();
        }

        // 点击遮罩层关闭弹窗
        document.getElementById('durationModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeDurationModal();
            }
        });

        function goToSelectPlayer() {
            const bookingInfo = {
                destination: document.getElementById('destinationInput').value,
                date: document.getElementById('travelDate').value,
                time: document.getElementById('travelTime').value,
                name: document.querySelector('input[placeholder="预订人姓名"]').value,
                phone: document.querySelector('input[placeholder="预定手机号"]').value,
                duration: document.querySelector('input[placeholder="选择服务时长"]').value,
                service: document.getElementById('selectedService').textContent,
                servicePrice: document.getElementById('servicePrice').textContent,
                transportFee: document.getElementById('transportFee').textContent,
                totalPrice: document.getElementById('totalPrice').textContent,
                venueName: document.getElementById('venueName').value,
                idNumber: document.getElementById('idNumber').value
            };
            sessionStorage.setItem('bookingInfo', JSON.stringify(bookingInfo));
            window.location.href = 'select-player.html';
        }

        // 在页面加载时检查用户头像
        window.onload = function() {
            const userProfile = JSON.parse(localStorage.getItem('userProfile'));
            const avatarElem = document.getElementById('userAvatar');
            
            if (userProfile && userProfile.avatar) {
                avatarElem.src = userProfile.avatar;
            } else {
                avatarElem.src = 'path/to/default-avatar.png';
            }
            
            // 其他初始化代码...
        };
    </script>

    <!-- 添加底部导航栏 -->
    <nav class="bottom-nav">
        <a href="index.html" class="nav-item active">
            <i class="fas fa-home"></i>
            <span>首页</span>
        </a>
        <a href="game.html" class="nav-item">
            <i class="fas fa-gamepad"></i>
            <span>游戏</span>
        </a>
        <a href="forum.html" class="nav-item">
            <i class="fas fa-comments"></i>
            <span>论坛</span>
        </a>
        <a href="chat.html" class="nav-item">
            <i class="fas fa-comment"></i>
            <span>聊天</span>
        </a>
        <a href="profile.html" class="nav-item">
            <i class="fas fa-user"></i>
            <span>我的</span>
        </a>
    </nav>
</body>
</html> 